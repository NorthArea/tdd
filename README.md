# TDD  
"TDD By Example Kent Beck"

Чистый код, который работает.  
1. Новый код пишется только после того, как будет написан автоматический тест, завершающйся неудачей.
2. Любое дублирование устраняется.  

Два упомянутых правила TDD определяют порядок этапов программирования.  
1. Красный - напишите небольшой тест, который не работает, а возможно даже не компилируется
2. Зеленый - заставьте тест работать как можно быстрее, при этом не думайте о правильности дизайна и о чистоте кода. напишите ровно столько кода, чтобы тест сработал.
3. Рефакторинг - устраните из написанного кода любое дублирование.

## Кратко можно сказать, что TDD заключается в следующем:
1. Быстро создать новый тест
2. Запустить все тесты и убедиться, что новый тест терпит неудачу.
3. Внести небольшие изменения.
4. Снова запустить все тесты и убедиться, что на этот раз все тесты выполнились успешно.
5. Провести рефакторинг для устранения дублирования.

## Зависимость и друблирование
Проблема с тестами и кодом заключается не в дублировании. 
Проблема заключается в зависимости между кодом и тестами - вы не можете изменить одно, не изменив другого. 
Наша цель - иметь возможность писть новые осмысленные тесты, не меняя при этом код, что невозможно при нашей текущей реализации.

Зависимость является проблемой, а дублирование - ее симптомом. 
Чаще всего дублирование проявляется в виде дублирования логики - одно и то же выражение появляется в различных частях кода.
Объекты - отличный способ абстрагирования, позволяющий избежать данного вида дублирования.

В отличие от большинства проблем в реальной жизни, где устранение симптомов приводит только к тому, что проблема проявляется в худшей форме где-то еще, устранение дублирования в программах устраняется и зависимость.
Именно поэтому существует второе правило TDD. 
Устраняя дублирование перед тем, как заняться следующим тестом, мы максимизируем наши шансы сделать его успешным, внеся всего одно изменение.

## Обычный цикл разработки на основе TDD
1. Напишите тес. Представьте, как будет реализована в коде воображаемая вами операция.
Продумав ее интерфейс, опишите все элементы, которые, как вам кажется, понадобятся.
2. Заставьте тест работать. первоочередная задача - получить зеленую полоску.
Если напрашивается простое и элегантное решение, используйте его.
3. Улучшите решение. Теперь, когда система работает, избавьтесь от прошлых огрехов.
Устраните дублирование, которое вы внесли, и быстро сделайте так, чтобы олоска снова стала зеленой.
